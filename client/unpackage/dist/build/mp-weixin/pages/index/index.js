(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{1117:function(t,e,n){"use strict";(function(t){n("18fa");i(n("66fd"));var e=i(n("ea96"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"434d":function(t,e,n){"use strict";var i=n("d167"),o=n.n(i);o.a},"5c03":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("1e25"));function o(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{articleList:[],show:!0,list1:[i.default.baseUrl+"/img/sw1.png",i.default.baseUrl+"/img/sw2.png",i.default.baseUrl+"/img/sw3.png",i.default.baseUrl+"/img/sw4.png"],tipList:[{name:"学校通知"},{name:"各院动态"}],tipCurrent:0,admin:!1,userInfo:""}},computed:{topNavStyle:function(){var t=this.scrollTop/100;console.log(this.scrollTop);var e=t>=1.68;return{class:e?"style2 bg-white text-white":"",style:"padding-top:".concat(this.StatusBar,"px;background-color: rgba(255,255,255,").concat(e?1:0,");")}}},onLoad:function(){},onShow:function(){this.userInfo=i.default.getUserInfo(),this.userInfo.token?(this.admin=0==this.userInfo.userInfo.type,this.getAtricle()):this.showInfo()},methods:{delArticle:function(t){var e=this;i.default.request({method:"GET",data:{id:t.id},url:i.default.delArticle,success:function(t){e.getAtricle()},fail:function(t){}})},addArticle:function(){var e=this;t.navigateTo({url:"../common/addArticle?type="+e.tipCurrent+"&level="+e.tipCurrent+"&name="+e.tipList[e.tipCurrent]})},showItem:function(e){try{t.setStorageSync("article",e),t.navigateTo({url:"../common/reviewArticle"})}catch(n){t.showToast({icon:"none",title:"数据异常"})}},showPic:function(e){t.previewImage({current:0,urls:[e]})},getIcon:function(){return i.default.baseUrl+"/img/school"+(0==this.tipCurrent?"2":"")+".png"},getAtricle:function(){var t=this;i.default.request({method:"GET",data:{data:{type:t.tipCurrent,showType:0}},url:i.default.getArticle,success:function(e){t.articleList=e.data.data},fail:function(t){}})},click:function(t){this.tipCurrent=t,this.getAtricle()},showInfo:function(){var e=this;wx.login({success:function(n){if(n.code){var i=n.code;t.showModal({title:"登录",content:"请授权获取微信信息用于登录",success:function(t){t.confirm?e.getUserInfo(i):e.getAtricle()}})}else console.log("登录失败！"+n.errMsg)}})},getUserInfo:function(e){console.log(e);var n=this;wx.getUserProfile({desc:"用于学生身份认证",success:function(o){console.log(3),console.log(JSON.stringify(o)),i.default.request({method:"GET",data:{code:e,enData:o.encryptedData,iv:o.iv,userInfo:o.userInfo},url:i.default.loginCheck,success:function(e){if(200==e.data.code)try{t.setStorageSync("userInfo",e.data.data),n.getAtricle()}catch(i){t.clearStorage()}else n.getAtricle()},fail:function(t){n.getAtricle()}})}})}}};e.default=u}).call(this,n("543d")["default"])},"741c":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var i={uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"0460"))},uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"4dde"))},uCard:function(){return n.e("uview-ui/components/u-card/u-card").then(n.bind(null,"9b36"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"0609"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.getIcon());t.$mp.data=Object.assign({},{$root:{m0:n}})},u=[]},a4c2:function(t,e,n){"use strict";n.r(e);var i=n("5c03"),o=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=o.a},d167:function(t,e,n){},ea96:function(t,e,n){"use strict";n.r(e);var i=n("741c"),o=n("a4c2");for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);n("434d");var r,c=n("f0c5"),a=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=a.exports}},[["1117","common/runtime","common/vendor"]]]);